{"title":"Solana escrowåˆçº¦ ç¼–ç¨‹å­¦ä¹ ","uid":"52d0fe63d1c1ad7c08273efe980dc2ed","slug":"Solana-coding-learning","date":"2024-09-01T14:56:16.000Z","updated":"2024-09-02T06:57:59.421Z","comments":true,"path":"api/articles/Solana-coding-learning.json","keywords":null,"cover":"/img/Solana-coding-learning-cover.jpg","content":"<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>è‹¦äºsolanaå…¥é—¨é—¨æ§›ï¼Œå¯¹äºåšä¸»è¿™æ ·çš„åŒºå—é“¾å°ç™½è€Œè¨€ï¼Œç¡®å®æœ‰äº›å¹¸è‹¦ğŸ˜­ã€‚æ‰€ä»¥ï¼Œç»è¿‡æŸ¥è¯¢ï¼Œæ‰¾åˆ°äº†ä¸€ç¯‡ç®€å•çš„å…¥é—¨æ•™ç¨‹ğŸ“–ã€‚</p>\n<p>åŒæ—¶ï¼Œè¿™æ˜¯æœ¬æ¬¡å­¦ä¹ çš„<a href=\"https://paulx.dev/blog/2021/01/14/programming-on-solana-an-introduction/\">æºæ–‡ç« </a></p>\n<div class=\"custom-quote tip\">\n<span class=\"custom-quote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06\"></path>\n<path stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M11.99 18H12.01\"></path>\n</svg></span>\n<p class=\"custom-quote-title\">TIP</p>\n<p>å¦‚æœä½ å¯¹æ–¼åŒºå—é“¾æ²¡æœ‰ä»»ä½•çŸ¥è¯†ï¼Œæˆ–è€…è¯´ä½ å®Œå…¨æ²¡äº†è§£solanaï¼Œä½ ä¹Ÿè®¸å¯ä»¥å…ˆè€ƒè™‘ä»¥ä¸‹videoå’Œæ–‡æ¡£</p>\n<ol>\n<li>ğŸ“º<a href=\"https://www.bilibili.com/video/BV1h54y1u7RY/?spm_id_from=333.788.recommend_more_video.0&vd_source=63572e2cc5e7fe87e67360da18893d03\">ã€Solanaå¼€å‘è¯¾ã€‘å­¦ä¹ ä½¿ç”¨Rust+JavaScriptè¿›è¡ŒSolanaåŒºå—é“¾å¼€å‘ | æŒæ¡ Web3ã€DAppã€NFTã€DeFiç­‰äº§å“å¼€å‘ | ä¸­æ–‡å­—å¹•</a></li>\n<li>ğŸ“–<a href=\"https://www.solana-cn.com/SolanaDocumention/intro/overview.html\">ä»‹ç» | Solanaä¸­æ–‡å¤§å…¨ (solana-cn.com)</a></li>\n<li>ğŸ“–<a href=\"https://docs.solanalabs.com/\">Home | Solana Validator (solanalabs.com)</a></li>\n<li>ğŸ“–<a href=\"https://solana.com/zh/docs\">Solana Documentation | Solana</a></li>\n<li><a href=\"https://learnblockchain.cn/article/8154\">Solana æ™ºèƒ½åˆçº¦æŒ‡å— | ç™»é“¾ç¤¾åŒº | åŒºå—é“¾æŠ€æœ¯ç¤¾åŒº (learnblockchain.cn)</a></li>\n</ol>\n<p>è¿™è¾¹å»ºè®®ä½¿ç”¨â‘¡çš„æ–‡æ¡£ï¼Œæœ‰ä¸€è¯´ä¸€â‘£çš„zhç¿»è¯‘çœŸçš„æ˜¯ç¿»ä¸€åŠğŸ˜¤æˆ‘è¿˜æ˜¯å€¾å‘äºçœ‹äººè¯ç¿»è¯‘å‡ºæ¥çš„</p>\n\n</div>\n<h2 id=\"å‰æœŸå‡†å¤‡\"><a href=\"#å‰æœŸå‡†å¤‡\" class=\"headerlink\" title=\"å‰æœŸå‡†å¤‡\"></a>å‰æœŸå‡†å¤‡</h2><p>å®‰è£…Solana-cilã€‚æˆ‘è¿˜æ˜¯æ¨èä½¿ç”¨âš™ï¸Cargoæ¥è¿›è¡ŒåŒ…ç®¡ç†ï¼Œè€Œä¸æ˜¯ä½¿ç”¨å…¶ä»–é€”å¾„è¿›è¡Œå®‰è£…ğŸ¤—è£…ä¸äº†å»ºè®®æ¢ç½‘</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cargo install solana-cli --locked --version 1.9.1</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>æ³¨æ„ä½ çš„âš™ï¸rustæœ€å¥½ä½¿ç”¨æœ€æ–°çš„ç‰ˆæœ¬ï¼Œsolana-cilçš„ç‰ˆæœ¬ä¹Ÿå»ºè®®ä½¿ç”¨æœ€æ–°çš„ï¼Œè¯¦ç»†å¯ä»¥å‚è€ƒ<a href=\"https://crate.io/\">crate.io</a><a href=\"%E4%B9%9F%E8%AE%B8%E4%B9%9F%E5%8F%AF%E4%BB%A5%E4%B8%8D%E7%94%A8%E7%89%B9%E5%9C%B0%E5%AE%89%E8%A3%85solana-cil%F0%9F%A4%94%E9%80%9A%E8%BF%87%60cargo.toml%60%E5%8F%AF%E4%BB%A5%E5%BE%88%E8%BD%BB%E6%9D%BE%E7%9A%84%E5%AF%BC%E5%85%A5solana.cil%EF%BC%8C%E4%BD%A0%E4%BD%BF%E7%94%A8vscode%E6%88%96%E8%80%85RustRover%E9%83%BD%E4%BC%9A%E8%87%AA%E5%8A%A8%E4%B8%8B%E8%BD%BD%EF%BC%8C%E5%81%87%E5%A6%82%E6%88%91%E5%90%8E%E9%9D%A2%E5%8F%91%E7%8E%B0%E6%9C%89%E4%BB%80%E4%B9%88%E9%97%AE%E9%A2%98%EF%BC%8C%E6%88%91%E4%BC%9A%E6%9D%A5%E6%9B%B4%E6%AD%A3%E8%BF%99%E6%AE%B5%E6%B3%A8%E9%87%8A\">^1</a>ã€‚</li>\n</ul>\n<h2 id=\"é¡¹ç›®åˆ›å»º\"><a href=\"#é¡¹ç›®åˆ›å»º\" class=\"headerlink\" title=\"é¡¹ç›®åˆ›å»º\"></a>é¡¹ç›®åˆ›å»º</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cargo new escrow --lib</span><br></pre></td></tr></table></figure>\n\n<div class=\"custom-quote tip\">\n<span class=\"custom-quote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06\"></path>\n<path stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M11.99 18H12.01\"></path>\n</svg></span>\n<p class=\"custom-quote-title\">TIP</p>\n<p><p>æ³¨æ„ï¼Œä¸‹è¿°æ–‡ä»¶é™¤äº†.tomlæ–‡ä»¶ï¼Œå…¶ä½™éƒ½åœ¨.&#x2F;src&#x2F;ç›®å½•ä¸‹</p>\n</p>\n</div>\n<figure class=\"highlight toml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Xargo.toml // æ–‡ä»¶å</span><br><span class=\"line\"><span class=\"section\">[target.bpfel-unknown.dependencies.std]</span></span><br><span class=\"line\"><span class=\"attr\">features</span> = []</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight toml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Cargo.toml</span><br><span class=\"line\"><span class=\"section\">[package]</span></span><br><span class=\"line\"><span class=\"attr\">name</span> = <span class=\"string\">&quot;escrow&quot;</span></span><br><span class=\"line\"><span class=\"attr\">version</span> = <span class=\"string\">&quot;0.1.0&quot;</span></span><br><span class=\"line\"><span class=\"attr\">edition</span> = <span class=\"string\">&quot;2021&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">[features]</span></span><br><span class=\"line\"><span class=\"attr\">no-entrypoint</span> = []</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">[dependencies]</span></span><br><span class=\"line\"><span class=\"attr\">arrayref</span> = <span class=\"string\">&quot;0.3.6&quot;</span></span><br><span class=\"line\"><span class=\"attr\">solana-program</span> = <span class=\"string\">&quot;2.0.8&quot;</span></span><br><span class=\"line\"><span class=\"attr\">thiserror</span> = <span class=\"string\">&quot;1.0&quot;</span></span><br><span class=\"line\"><span class=\"attr\">spl-token</span> = &#123;version = <span class=\"string\">&quot;6.0.0&quot;</span>, features = [<span class=\"string\">&quot;no-entrypoint&quot;</span>]&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">[lib]</span></span><br><span class=\"line\"><span class=\"attr\">crate-type</span> = [<span class=\"string\">&quot;cdylib&quot;</span>, <span class=\"string\">&quot;lib&quot;</span>]</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>ç¬¬ä¸€ä¸ªé¡¹ç›®è¦å­¦ä¹ çš„æ˜¯ä¸€ä¸ªæ‰˜ç®¡åˆçº¦ï¼Œä¸»è¦æ˜¯è§£å†³äº¤æ˜“ä¸­çš„å»ä¿¡ä»»é—®é¢˜ã€‚</li>\n<li>åœ¨åŒºå—é“¾ä¸­ï¼Œæ™ºèƒ½åˆçº¦åŒæ–¹å‡å¯è§ï¼Œå±äºå¤©ç„¶çš„å¯ä¿¡ç¬¬ä¸‰æ–¹ğŸ‘®â€â™‚ï¸ã€‚</li>\n<li>ä¸è¿‡ï¼Œç†è®ºæ˜¯ç†è®ºğŸ¤—solanaå¹¶ä¸å®Œå…¨é€‚ç”¨ï¼Œå› ä¸ºsolanaåˆçº¦æ˜¯å¯ä»¥å‡çº§çš„ï¼Œæœ‰å¯èƒ½ä½ çœ‹åˆ°çš„ä¸ä¸€å®šæ˜¯è¢«éƒ¨ç½²çš„ï¼Œä¸è¿‡è¿™éƒ½ä¸é‡è¦ğŸ¤”æˆ‘ä»¬æš‚æ—¶æ¶‰åŠä¸åˆ°é‚£ä¸ªéƒ¨åˆ†</li>\n</ul>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>åŸºäºæˆ‘ä¸ªäººçš„ç†è§£ï¼Œæ™ºèƒ½åˆçº¦å°±æ˜¯æ‰¿æ‹…ä¸€ç¬”äº¤æ˜“çš„ç¬¬ä¸‰æ–¹æ‹…ä¿ï¼Œç”¨æ¥ä¿è¯ä¸€åœºäº¤æ˜“ä¸­ä¸ä¼šäº§ç”Ÿäº¤æ˜“åŒæ–¹ç”±äºæ— æ³•ä¿¡ä»»å¯¹æ–¹æˆ–è€…ç¼ºå°‘å¯ä¿¡ä»»çš„ç¬¬ä¸‰æ–¹å¯¼è‡´äº¤æ˜“æ— æ³•æ­£å¸¸è¿›è¡Œã€‚æ‰“ä¸ªä¸æ°å½“çš„æ¯”å–»ï¼Œæœ‰ç‚¹åƒæ˜¯é€šè¿‡<code>æ”¯ä»˜å® || å¾®ä¿¡</code>è¿›è¡Œçš„äº¤æ˜“ï¼Œå¤§å®¶éƒ½èƒ½å¤Ÿå®Œå…¨çš„ä¿¡ä»»ï¼Œå°±æ˜¯å› ä¸ºä»–ä»¬åœ¨æˆ‘ä»¬çš„äº¤æ˜“ä¸­æä¾›äº†èµ„é‡‘äº¤æµçš„ä¿è¯ã€‚</p></blockquote>\n<div class=\"custom-quote tip\">\n<span class=\"custom-quote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06\"></path>\n<path stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M11.99 18H12.01\"></path>\n</svg></span>\n<p class=\"custom-quote-title\">TIP</p>\n<p>åœ¨SolanaåŒºå—é“¾ä¸­ï¼Œæ™ºèƒ½åˆçº¦æ˜¯æ— çŠ¶æ€çš„ï¼Œä¸èƒ½ä¿å­˜ä»»ä½•æ•°æ®ã€‚æ‰€æœ‰éœ€è¦ä¿å­˜çš„æ•°æ®å‡ä¿å­˜åœ¨è´¦å·çš„<code>data</code>å­—æ®µä¸­ã€‚</p>\n<p>å…³äºSpl-tokenåŠè´¦å·ç›¸å…³çš„ä¸€äº›åŸºç¡€çŸ¥è¯†è¯·è¯»è€…è‡ªè¡Œé˜…è¯»ç›¸åº”æ–‡ç« æˆ–è€…æºæ•™å­¦æ–‡ç« ã€‚</p>\n\n</div>\n<ul>\n<li>åœ¨srcç›®å½•ä¸‹åˆ›å»º<code>error.rs</code> ,<code>instruction.rs</code>, <code>processor.rs</code>,<code>entrypoint.rs</code>,<code>state.rs</code>ç¨åæˆ‘ä»¬å°†åœ¨è¿™äº›æ–‡ä»¶ä¸­æ’°å†™ä»£ç </li>\n</ul>\n<h2 id=\"ç¼–å†™åŸºæœ¬æ¡†æ¶\"><a href=\"#ç¼–å†™åŸºæœ¬æ¡†æ¶\" class=\"headerlink\" title=\"ç¼–å†™åŸºæœ¬æ¡†æ¶\"></a>ç¼–å†™åŸºæœ¬æ¡†æ¶</h2><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>ä¸‹é¢ä¼šå…ˆæ”¾æºç ï¼Œå†æ”¾æˆ‘çš„ä¸ªäººç†è§£ï¼Œåªæƒ³çœ‹ä»£ç çš„å¯ä»¥é€šè¿‡å¤§çº²è¿›è¡Œè·³è½¬ã€‚</p></blockquote>\n<h3 id=\"Error-rs\"><a href=\"#Error-rs\" class=\"headerlink\" title=\"Error.rs\"></a>Error.rs</h3><figure class=\"highlight rust\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">use</span> thiserror::Error;</span><br><span class=\"line\"><span class=\"keyword\">use</span> solana_program::program_error::ProgramError;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#[derive(Error,Debug,Copy,Clone)]</span></span><br><span class=\"line\"><span class=\"keyword\">pub</span> <span class=\"keyword\">enum</span> <span class=\"title class_\">EscrowError</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Invalid instruction</span></span><br><span class=\"line\">    <span class=\"meta\">#[error(<span class=\"string\">&quot;Invalid Instruction&quot;</span>)]</span></span><br><span class=\"line\">    InvalidInstruction,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">impl</span> <span class=\"title class_\">From</span>&lt;EscrowError&gt; <span class=\"keyword\">for</span> <span class=\"title class_\">ProgramError</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">fn</span> <span class=\"title function_\">from</span>(e: EscrowError) <span class=\"punctuation\">-&gt;</span> <span class=\"keyword\">Self</span> &#123;</span><br><span class=\"line\">        ProgramError::<span class=\"title function_ invoke__\">Custom</span>(e <span class=\"keyword\">as</span> <span class=\"type\">u32</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>è¿™é‡Œä½¿ç”¨<code>thiserror</code>çš„åŸå› åŸæ–‡ä¸­å†™çš„å¾ˆæ˜ç¡®ï¼Œçœå»æˆ‘ä»¬æ‰‹åŠ¨å®ç°ç›¸å…³<em>Trait</em>ã€‚</p></blockquote>\n<ul>\n<li>solanaç¨‹åºçš„è¿”å›å€¼é€šå¸¸ä¸º<code>ProgramError</code>,æ‰€ä»¥æˆ‘ä»¬åœ¨è¿™é‡Œä¸º<code>ProgramError</code>æšä¸¾ä¸­çš„æ‰€æœ‰ç±»å‹å®ç°<code>From</code>Traitè½¬æ¢ä¸º<code>EscrowError</code></li>\n</ul>\n<h3 id=\"instruction-rs\"><a href=\"#instruction-rs\" class=\"headerlink\" title=\"instruction.rs\"></a>instruction.rs</h3><figure class=\"highlight rust\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">use</span> std::convert::TryInto;</span><br><span class=\"line\"><span class=\"keyword\">use</span> crate::error::EscrowError::InvalidInstruction;</span><br><span class=\"line\"><span class=\"keyword\">use</span> solana_program::program_error::ProgramError;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">pub</span> <span class=\"keyword\">enum</span> <span class=\"title class_\">EscrowInstruction</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">/// å› ä¸ºè¦åœ¨åˆå§‹åŒ–é‡Œè½¬ç§»ä¸´æ—¶ä»£å¸è´¦å·æ‰€æœ‰æƒï¼Œæ‰€ä»¥éœ€è¦åŸownerç­¾åï¼Œå¹¶ä¸”åŸownerä¹Ÿæ˜¯åˆå§‹åŒ–è€…</span></span><br><span class=\"line\">    <span class=\"comment\">/// 0. `[signer]` The account of the person initializing the escrow</span></span><br><span class=\"line\">    <span class=\"comment\">/// 1. `[writable]` Temporary token account that should be created prior to this instruction and owned by the initializer</span></span><br><span class=\"line\">    <span class=\"comment\">/// 2. `[]` The initializer&#x27;s token account for the token they will receive should the trade go through</span></span><br><span class=\"line\">    <span class=\"comment\">/// 3. `[writable]` The escrow account, it will hold all necessary info about the trade.</span></span><br><span class=\"line\">    <span class=\"comment\">/// 4. `[]` The rent sysvar</span></span><br><span class=\"line\">    <span class=\"comment\">/// 5. `[]` The token program</span></span><br><span class=\"line\">    InitEscrow &#123;</span><br><span class=\"line\">        <span class=\"comment\">/// The amount party A expects to receive of token Y</span></span><br><span class=\"line\">        amount: <span class=\"type\">u64</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">impl</span> <span class=\"title class_\">EscrowInstruction</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">pub</span> <span class=\"keyword\">fn</span> <span class=\"title function_\">unpack</span>(input: &amp;[<span class=\"type\">u8</span>]) <span class=\"punctuation\">-&gt;</span> <span class=\"type\">Result</span>&lt;<span class=\"keyword\">Self</span>, ProgramError&gt; &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> (tag, rest) = input.<span class=\"title function_ invoke__\">split_first</span>().<span class=\"title function_ invoke__\">ok_or</span>(InvalidInstruction)?;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"title function_ invoke__\">Ok</span>(<span class=\"keyword\">match</span> tag &#123;</span><br><span class=\"line\">            <span class=\"number\">0</span> =&gt; <span class=\"keyword\">Self</span>::InitEscrow &#123;</span><br><span class=\"line\">                amount: <span class=\"keyword\">Self</span>::<span class=\"title function_ invoke__\">unpack_amount</span>(rest)?,</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            <span class=\"comment\">//æ³¨æ„è¿™é‡Œçš„ç”¨æ³•ï¼ŒInvalidInstructionè½¬åŒ–ä¸ºProgramErroræ—¶ï¼Œä½¿ç”¨äº†into</span></span><br><span class=\"line\">          \t<span class=\"comment\">//å› ä¸ºæˆ‘ä»¬åœ¨error.rsä¸­å·²ç»å®ç°äº†é‚£ä¸ªfromï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬å®ç°into</span></span><br><span class=\"line\">            _ =&gt; <span class=\"keyword\">return</span> <span class=\"title function_ invoke__\">Err</span>(InvalidInstruction.<span class=\"title function_ invoke__\">into</span>()),</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//è¿™é‡Œå­¦ä¹ Input è½¬åŒ–ä¸ºu64</span></span><br><span class=\"line\">    <span class=\"keyword\">fn</span> <span class=\"title function_\">unpack_amount</span>(input: &amp;[<span class=\"type\">u8</span>]) <span class=\"punctuation\">-&gt;</span> <span class=\"type\">Result</span>&lt;<span class=\"type\">u64</span>, ProgramError&gt; &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> <span class=\"variable\">amount</span> = input</span><br><span class=\"line\">            .<span class=\"title function_ invoke__\">get</span>(..<span class=\"number\">8</span>)</span><br><span class=\"line\">            .<span class=\"title function_ invoke__\">and_then</span>(|slice| slice.<span class=\"title function_ invoke__\">try_into</span>().<span class=\"title function_ invoke__\">ok</span>())</span><br><span class=\"line\">            .<span class=\"title function_ invoke__\">map</span>(<span class=\"type\">u64</span>::from_le_bytes)</span><br><span class=\"line\">            .<span class=\"title function_ invoke__\">ok_or</span>(InvalidInstruction)?;</span><br><span class=\"line\">        <span class=\"title function_ invoke__\">Ok</span>(amount)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ol>\n<li><p>åœ¨è¿™æ®µä»£ç é‡Œå‡†å¤‡ä¸€ä»½åˆå§‹åŒ–æŒ‡ä»¤ï¼Œç¼–å†™<code>unpack</code>å‡½æ•°ç”¨æ¥å°†è¾“å…¥æ•°æ®è§£æä¸ºä¸€ä¸ªæŒ‡ä»¤</p>\n</li>\n<li><p>åç»­æ·»åŠ æ–°çš„æŒ‡ä»¤ç»§ç»­åœ¨<code>unpack</code>å‡½æ•°ä¸­æ·»åŠ å†…å®¹å³å¯ã€‚æ³¨æ„å‡½æ•°è¿”å›ç±»å‹<code>Result&lt;Self, ProgramError&gt;</code></p>\n</li>\n<li><p>ç”±äºinputæ˜¯<code>&amp;[u8]</code>ç±»å‹ï¼Œæˆ‘ä»¬åœ¨åˆå§‹åŒ–ä»£å¸æ‰€æœ‰æƒä¸­ä½¿ç”¨äº†<code>amount: u64</code>,æ‰€ä»¥æˆ‘ä»¬éœ€è¦ç¼–å†™ä¸€ä¸ªç±»å‹è½¬æ¢ï¼Œä»inputä¸­åˆ‡å–ä»£è¡¨<code>amount</code>çš„éƒ¨åˆ†ã€‚</p>\n<ul>\n<li>æ•´ä¸ªè¿‡ç¨‹çš„ç›®çš„æ˜¯å°è¯•ä» <code>input</code> çš„å‰ 8 ä¸ªå­—èŠ‚ä¸­è¯»å–ä¸€ä¸ª <code>u64</code> å€¼ï¼š<ol>\n<li><strong>è·å–å‰ 8 ä¸ªå­—èŠ‚</strong>ï¼šé€šè¿‡ <code>input.get(..8)</code> å°è¯•è·å–åˆ‡ç‰‡çš„å‰ 8 ä¸ªå­—èŠ‚ã€‚</li>\n<li><strong>è½¬æ¢åˆ‡ç‰‡åˆ°æ•°ç»„</strong>ï¼šä½¿ç”¨ <code>.and_then</code> å’Œ <code>try_into()</code> å°†å­—èŠ‚åˆ‡ç‰‡è½¬æ¢ä¸ºä¸€ä¸ªå›ºå®šå¤§å°çš„å­—èŠ‚æ•°ç»„ <code>[u8; 8]</code>ã€‚</li>\n<li>**è½¬æ¢å­—èŠ‚æ•°ç»„åˆ° <code>u64</code>**ï¼šä½¿ç”¨ <code>map(u64::from_le_bytes)</code> å°† <code>[u8; 8]</code> è½¬æ¢ä¸º <code>u64</code>ã€‚</li>\n<li><strong>é”™è¯¯å¤„ç†</strong>ï¼šå¦‚æœä»»ä½•ä¸€æ­¥å¤±è´¥ï¼Œè¿”å› <code>InvalidInstruction</code> é”™è¯¯ã€‚</li>\n</ol>\n</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"processor-rs\"><a href=\"#processor-rs\" class=\"headerlink\" title=\"processor.rs\"></a>processor.rs</h3><figure class=\"highlight rust\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">use</span> solana_program::&#123;</span><br><span class=\"line\">    account_info::&#123;next_account_info,AccountInfo&#125;,</span><br><span class=\"line\">    entrypoint::ProgramResult,</span><br><span class=\"line\">    program_error::ProgramError,</span><br><span class=\"line\">    msg,</span><br><span class=\"line\">    pubkey::Pubkey,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">use</span> crate::instruction::EscrowInstruction;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">pub</span> <span class=\"keyword\">struct</span> <span class=\"title class_\">Processor</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">impl</span> <span class=\"title class_\">Processor</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">pub</span> <span class=\"keyword\">fn</span> <span class=\"title function_\">process</span>(program_id: &amp;Pubkey, accounts: &amp;[AccountInfo], instruction_data: &amp;[<span class=\"type\">u8</span>]) <span class=\"punctuation\">-&gt;</span> ProgramResult &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> <span class=\"variable\">instruction</span> = EscrowInstruction::<span class=\"title function_ invoke__\">unpack</span>(instruction_data)?;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">match</span> instruction &#123;</span><br><span class=\"line\">            EscrowInstruction::InitEscrow &#123;amount&#125; =&gt; &#123;</span><br><span class=\"line\">                msg!(<span class=\"string\">&quot;Instruction: InitEscrow&quot;</span>);</span><br><span class=\"line\">                <span class=\"keyword\">Self</span>::<span class=\"title function_ invoke__\">process_init_escrow</span>(accounts,amount,program_id)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">fn</span> <span class=\"title function_\">process_init_escrow</span>(</span><br><span class=\"line\">        accounts: &amp;[AccountInfo],</span><br><span class=\"line\">        amount: <span class=\"type\">u64</span>,</span><br><span class=\"line\">        program_id: &amp;Pubkey</span><br><span class=\"line\">    ) <span class=\"punctuation\">-&gt;</span> ProgramResult &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> <span class=\"variable\">account_info_iter</span> = &amp;<span class=\"keyword\">mut</span> accounts.<span class=\"title function_ invoke__\">iter</span>();</span><br><span class=\"line\">        <span class=\"keyword\">let</span> <span class=\"variable\">initializer</span> = <span class=\"title function_ invoke__\">next_account_info</span>(account_info_iter)?;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> !initializer.is_signer &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"title function_ invoke__\">Err</span>(ProgramError::MissingRequiredSignature);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// todo</span></span><br><span class=\"line\">        <span class=\"title function_ invoke__\">Ok</span>(())</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<div class=\"custom-quote tip\">\n<span class=\"custom-quote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06\"></path>\n<path stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M11.99 18H12.01\"></path>\n</svg></span>\n<p class=\"custom-quote-title\">TIP</p>\n<p><ul>\n<li>è¿™é‡Œä¸€èˆ¬ä¸ºå›ºå®šçš„<code>Processor</code>ç»“æ„ä½“ï¼ˆåªæ˜¯çº¦å®šï¼Œæ— å¼ºåˆ¶åŠ›ï¼‰ã€‚åœ¨è¯¥ç»“æ„ä½“ä¸Šåˆ›å»ºä¸€ä¸ªé™æ€å‡½æ•°<code>process</code>æ¥å¤„ç†å…¥å£è½¬å‘è¿‡æ¥çš„å‚æ•°ã€‚åœ¨è¯¥å‡½æ•°å†…éƒ¨ï¼Œé¦–å…ˆè§£ææŒ‡ä»¤ï¼Œç„¶åæ ¹æ®æŒ‡ä»¤è°ƒç”¨ç›¸åº”çš„å¤„ç†å‡½æ•°ã€‚<ul>\n<li><code>processor</code>è¿”å›çš„æ˜¯<code>ProgramResult</code>ã€‚</li>\n<li>å‡½æ•°ä½“ä¸­<code>?</code>æ“ä½œç¬¦çš„ä½¿ç”¨ï¼Œå‘ä¸Šçº§è°ƒç”¨ä¼ é€’é”™è¯¯ã€‚</li>\n</ul>\n</li>\n<li><code>process_init_escrow</code>å¹¶æ²¡æœ‰å®Œå…¨ç¼–å†™ğŸ¤—åç»­ä¼šè¿›è¡Œç¼–å†™</li>\n</ul>\n</p>\n</div>\n<h3 id=\"entrypoint-rs\"><a href=\"#entrypoint-rs\" class=\"headerlink\" title=\"entrypoint.rs\"></a>entrypoint.rs</h3><figure class=\"highlight rust\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//! Program entrypoint</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">use</span> crate::&#123;processor::Processor&#125;;</span><br><span class=\"line\"><span class=\"keyword\">use</span> solana_program::&#123;</span><br><span class=\"line\">    account_info::AccountInfo, </span><br><span class=\"line\">    entrypoint, </span><br><span class=\"line\">    entrypoint::ProgramResult,</span><br><span class=\"line\">    pubkey::Pubkey,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">entrypoint!(process_instruction);</span><br><span class=\"line\"><span class=\"keyword\">fn</span> <span class=\"title function_\">process_instruction</span>(</span><br><span class=\"line\">    program_id: &amp;Pubkey,</span><br><span class=\"line\">    accounts: &amp;[AccountInfo],</span><br><span class=\"line\">    instruction_data: &amp;[<span class=\"type\">u8</span>],</span><br><span class=\"line\">) <span class=\"punctuation\">-&gt;</span> ProgramResult &#123;</span><br><span class=\"line\">    Processor::<span class=\"title function_ invoke__\">process</span>(program_id, accounts, instruction_data) </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>è¿™éƒ¨åˆ†åœ¨<em>lib.rs</em>ä¸­å£°æ˜<code>mod</code>çš„æ—¶å€™ï¼Œéœ€è¦è®¾å®šå¯å…³é—­<code>entrypoint</code>ç‰¹æ€§ï¼Œä¸ºäº†ç¨‹åºå¯ä»¥æ–¹ä¾¿çš„è¢«å…¶ä»–ç¨‹åºå¯¼å…¥ï¼ˆè¿™é‡ŒåŸæ–‡ä¸­ä¹Ÿåªæ˜¯æŒ‡å‡ºäº†æ–¹æ³•ï¼Œæ˜¯å‚è€ƒspl-tokenä¸­çš„è®¾ç½®å’Œç¼–å†™è€Œæ¥çš„ï¼‰<a href=\"lib.rs%E4%B8%AD%E7%9A%84%E5%85%B7%E4%BD%93%E4%BB%A3%E7%A0%81%E4%BC%9A%E5%9C%A8%E5%90%8E%E9%9D%A2%E7%BB%9F%E4%B8%80%E5%B1%95%E7%A4%BA\">^2</a></li>\n</ul>\n<h3 id=\"state-rs\"><a href=\"#state-rs\" class=\"headerlink\" title=\"state.rs\"></a>state.rs</h3><figure class=\"highlight rust\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">use</span> solana_program::&#123;</span><br><span class=\"line\">    program_pack::&#123;IsInitialized, Pack, Sealed&#125;,</span><br><span class=\"line\">    program_error::ProgramError,</span><br><span class=\"line\">    pubkey::Pubkey,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">pub</span> <span class=\"keyword\">struct</span> <span class=\"title class_\">Escrow</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">pub</span> is_initialized: <span class=\"type\">bool</span>,</span><br><span class=\"line\">    <span class=\"keyword\">pub</span> initializer_pubkey: Pubkey,</span><br><span class=\"line\">    <span class=\"keyword\">pub</span> temp_token_account_pubkey: Pubkey,</span><br><span class=\"line\">    <span class=\"keyword\">pub</span> initializer_token_to_receive_account_pubkey: Pubkey,</span><br><span class=\"line\">    <span class=\"keyword\">pub</span> expected_amount: <span class=\"type\">u64</span>,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">impl</span> <span class=\"title class_\">Sealed</span> <span class=\"keyword\">for</span> <span class=\"title class_\">Escrow</span> &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">impl</span> <span class=\"title class_\">IsInitialized</span> <span class=\"keyword\">for</span> <span class=\"title class_\">Escrow</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">fn</span> <span class=\"title function_\">is_initialized</span>(&amp;<span class=\"keyword\">self</span>) <span class=\"punctuation\">-&gt;</span> <span class=\"type\">bool</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.is_initialized</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">use</span> arrayref::&#123;array_mut_ref, array_ref, array_refs, mut_array_refs&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">impl</span> <span class=\"title class_\">Pack</span> <span class=\"keyword\">for</span> <span class=\"title class_\">Escrow</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> LEN: <span class=\"type\">usize</span> = <span class=\"number\">105</span>;</span><br><span class=\"line\">    <span class=\"keyword\">fn</span> <span class=\"title function_\">unpack_from_slice</span>(src: &amp;[<span class=\"type\">u8</span>]) <span class=\"punctuation\">-&gt;</span> <span class=\"type\">Result</span>&lt;<span class=\"keyword\">Self</span>, ProgramError&gt; &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> <span class=\"variable\">src</span> = array_ref![src, <span class=\"number\">0</span>, Escrow::LEN];</span><br><span class=\"line\">        <span class=\"keyword\">let</span> (</span><br><span class=\"line\">            is_initialized,</span><br><span class=\"line\">            initializer_pubkey,</span><br><span class=\"line\">            temp_token_account_pubkey,</span><br><span class=\"line\">            initializer_token_to_receive_account_pubkey,</span><br><span class=\"line\">            expected_amount,</span><br><span class=\"line\">        ) = array_refs![src, <span class=\"number\">1</span>, <span class=\"number\">32</span>, <span class=\"number\">32</span>, <span class=\"number\">32</span>, <span class=\"number\">8</span>];</span><br><span class=\"line\">        <span class=\"keyword\">let</span> <span class=\"variable\">is_initialized</span> = <span class=\"keyword\">match</span> is_initialized &#123;</span><br><span class=\"line\">            [<span class=\"number\">0</span>] =&gt; <span class=\"literal\">false</span>,</span><br><span class=\"line\">            [<span class=\"number\">1</span>] =&gt; <span class=\"literal\">true</span>,</span><br><span class=\"line\">            _ =&gt; <span class=\"keyword\">return</span> <span class=\"title function_ invoke__\">Err</span>(ProgramError::InvalidAccountData),</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"title function_ invoke__\">Ok</span>(Escrow &#123;</span><br><span class=\"line\">            is_initialized,</span><br><span class=\"line\">            initializer_pubkey: Pubkey::<span class=\"title function_ invoke__\">new_from_array</span>(*initializer_pubkey),</span><br><span class=\"line\">            temp_token_account_pubkey: Pubkey::<span class=\"title function_ invoke__\">new_from_array</span>(*temp_token_account_pubkey),</span><br><span class=\"line\">            initializer_token_to_receive_account_pubkey: Pubkey::<span class=\"title function_ invoke__\">new_from_array</span>(*initializer_token_to_receive_account_pubkey),</span><br><span class=\"line\">            expected_amount: <span class=\"type\">u64</span>::<span class=\"title function_ invoke__\">from_le_bytes</span>(*expected_amount),</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">fn</span> <span class=\"title function_\">pack_into_slice</span>(&amp;<span class=\"keyword\">self</span>, dst: &amp;<span class=\"keyword\">mut</span> [<span class=\"type\">u8</span>]) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> <span class=\"variable\">dst</span> = array_mut_ref![dst, <span class=\"number\">0</span>, Escrow::LEN];</span><br><span class=\"line\">        <span class=\"keyword\">let</span> (</span><br><span class=\"line\">            is_initialized_dst,</span><br><span class=\"line\">            initializer_pubkey_dst,</span><br><span class=\"line\">            temp_token_account_pubkey_dst,</span><br><span class=\"line\">            initializer_token_to_receive_account_pubkey_dst,</span><br><span class=\"line\">            expected_amount_dst,</span><br><span class=\"line\">        ) = mut_array_refs![dst, <span class=\"number\">1</span>, <span class=\"number\">32</span>, <span class=\"number\">32</span>, <span class=\"number\">32</span>, <span class=\"number\">8</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">let</span> <span class=\"variable\">Escrow</span> &#123;</span><br><span class=\"line\">            is_initialized,</span><br><span class=\"line\">            initializer_pubkey,</span><br><span class=\"line\">            temp_token_account_pubkey,</span><br><span class=\"line\">            initializer_token_to_receive_account_pubkey,</span><br><span class=\"line\">            expected_amount,</span><br><span class=\"line\">        &#125; = <span class=\"keyword\">self</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        is_initialized_dst[<span class=\"number\">0</span>] = *is_initialized <span class=\"keyword\">as</span> <span class=\"type\">u8</span>;</span><br><span class=\"line\">        initializer_pubkey_dst.<span class=\"title function_ invoke__\">copy_from_slice</span>(initializer_pubkey.<span class=\"title function_ invoke__\">as_ref</span>());</span><br><span class=\"line\">        temp_token_account_pubkey_dst.<span class=\"title function_ invoke__\">copy_from_slice</span>(temp_token_account_pubkey.<span class=\"title function_ invoke__\">as_ref</span>());</span><br><span class=\"line\">        initializer_token_to_receive_account_pubkey_dst.<span class=\"title function_ invoke__\">copy_from_slice</span>(initializer_token_to_receive_account_pubkey.<span class=\"title function_ invoke__\">as_ref</span>());</span><br><span class=\"line\">        *expected_amount_dst = expected_amount.<span class=\"title function_ invoke__\">to_le_bytes</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<div class=\"custom-quote tip\">\n<span class=\"custom-quote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06\"></path>\n<path stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M11.99 18H12.01\"></path>\n</svg></span>\n<p class=\"custom-quote-title\">TIP</p>\n<ul>\n<li>ç›¸åŒç›®å½•åˆ›å»º<code>state.rs</code>ï¼Œæ–‡ä»¶ç”¨æ¥å®šä¹‰çŠ¶æ€ä¿å­˜å¯¹è±¡å¹¶ç¼–å†™ç›¸åº”çš„ç¨‹åºå¤„ç†åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼ˆä¹Ÿå°±æ˜¯å°†å­—èŠ‚æ•°ç»„å’Œæ•°æ®ç»“æ„ç›¸äº’è½¬æ¢ï¼‰</li>\n<li>æˆ‘ä»¬çš„ç»“æ„éœ€è¦å®ç°<code>program_pack::&#123;IsInitialized, Pack, Sealed&#125; </code>è¿™ä¸‰ä¸ªç‰¹å‹ã€‚</li>\n<li><code>const LEN: usize = 105;</code>è¿™é‡Œç»“æ„çš„å¤§å°æ˜¯æ ¹æ®å„ä¸ªå­—æ®µçš„å¤§å°ç›¸åŠ å¾—åˆ°çš„ï¼Œåˆ†åˆ«ä¸º<code>1 + 32*3 + 8 = 105</code>ã€‚</li>\n<li><code>unpack_from_slice</code>ä¸<code>pack_into_slice</code>å¹¶ä¸æ˜¯ç›´æ¥è¢«ç¨‹åºçš„å…¶å®ƒéƒ¨åˆ†è°ƒç”¨çš„ï¼ŒPackç‰¹å‹æœ‰ä¸¤ä¸ªé»˜è®¤å‡½æ•°ï¼Œåˆ†åˆ«è°ƒç”¨è¿™ä¸¤ä¸ªå‡½æ•°ã€‚</li>\n<li>æ³¨æ„<code>array_mut_ref</code>, <code>array_ref</code>, <code>array_refs</code>, <code>mut_array_refs</code>è¿™å‡ ä¸ªå®çš„ç”¨æ³•ï¼Œçœ‹åå­—å°±èƒ½çŒœåˆ°ï¼Œåˆ†åˆ«ä¸ºå¾—åˆ°ä¸€ä¸ªæ•°ç»„çš„å¯å˜å¼•ç”¨ï¼Œå¾—åˆ°ä¸€ä¸ªæ•°ç»„çš„å¼•ç”¨ ï¼Œå¾—åˆ°å¤šä¸ªæ•°ç»„çš„å¼•ç”¨ï¼Œå¾—åˆ°å¤šä¸ªæ•°ç»„çš„å¯å˜å¼•ç”¨ã€‚</li>\n<li>æ³¨æ„ç¤ºä¾‹ä¸­ä»å­—èŠ‚æ•°ç»„å¾—åˆ°å…¬é’¥çš„æ–¹æ³•<code>copy_from_slice</code></li>\n<li>ç¤ºä¾‹ä¸­ä»å­—èŠ‚æ•°ç»„å¾—åˆ°<code>u64</code>é‡‡ç”¨äº†<code>to_le_bytes</code>å·¦å¯¹é½çš„æ–¹å¼ï¼ŒRustä¸­è¿˜æœ‰ç±»ä¼¼çš„å³å¯¹é½æ–¹å¼ã€‚ä½†ä¸€èˆ¬Solanaä¸­é‡‡ç”¨ç±»Cçš„å·¦å¯¹é½æ–¹å¼ã€‚</li>\n<li>å¸ƒå°”å€¼å¯ä»¥ç›´æ¥è½¬æ¢ä¸º<code>u8</code>ï¼Œè§<code>is_initialized as u8</code>ã€‚</li>\n</ul>\n\n</div>\n<h3 id=\"lib-rs\"><a href=\"#lib-rs\" class=\"headerlink\" title=\"lib.rs\"></a>lib.rs</h3><figure class=\"highlight rust\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#[cfg(not(feature = <span class=\"string\">&quot;no-entrypoint&quot;</span>))]</span></span><br><span class=\"line\"><span class=\"keyword\">mod</span> entrypoint;</span><br><span class=\"line\"><span class=\"keyword\">pub</span> <span class=\"keyword\">mod</span> error;</span><br><span class=\"line\"><span class=\"keyword\">pub</span> <span class=\"keyword\">mod</span> instruction;</span><br><span class=\"line\"><span class=\"keyword\">pub</span> <span class=\"keyword\">mod</span> processor;</span><br><span class=\"line\"><span class=\"keyword\">pub</span> <span class=\"keyword\">mod</span> state;</span><br></pre></td></tr></table></figure>\n\n","feature":true,"text":"ä¸€ä¸ªç®€å•çš„å­¦ä¹ è®°å½•ï¼Œå­¦ä¹ å¦‚ä½•æ„å»ºç¬¬ä¸€ä¸ªSolanaæ™ºèƒ½åˆçº¦...","permalink":"/post/Solana-coding-learning","photos":[],"count_time":{"symbolsCount":"10k","symbolsTime":"9 mins."},"categories":[{"name":"Rust","slug":"Rust","count":3,"path":"api/categories/Rust.json"},{"name":"åŒºå—é“¾","slug":"Rust/åŒºå—é“¾","count":1,"path":"api/categories/Rust/åŒºå—é“¾.json"}],"tags":[{"name":"rust","slug":"rust","count":3,"path":"api/tags/rust.json"},{"name":"solana","slug":"solana","count":1,"path":"api/tags/solana.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%89%8D%E8%A8%80\"><span class=\"toc-text\">å‰è¨€</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%89%8D%E6%9C%9F%E5%87%86%E5%A4%87\"><span class=\"toc-text\">å‰æœŸå‡†å¤‡</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA\"><span class=\"toc-text\">é¡¹ç›®åˆ›å»º</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%BC%96%E5%86%99%E5%9F%BA%E6%9C%AC%E6%A1%86%E6%9E%B6\"><span class=\"toc-text\">ç¼–å†™åŸºæœ¬æ¡†æ¶</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Error-rs\"><span class=\"toc-text\">Error.rs</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#instruction-rs\"><span class=\"toc-text\">instruction.rs</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#processor-rs\"><span class=\"toc-text\">processor.rs</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#entrypoint-rs\"><span class=\"toc-text\">entrypoint.rs</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#state-rs\"><span class=\"toc-text\">state.rs</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#lib-rs\"><span class=\"toc-text\">lib.rs</span></a></li></ol></li></ol>","author":{"name":"RaphaelNY","slug":"blog-author","avatar":"img/avatar.png","link":"/","description":"å¥½ããªã‚ˆã†ã«ã€è‡ªåˆ†ã®é¡˜ã„ã«å¾“ã£ã¦æ´»å‹•ã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ã€‚<br>ä¸å®šæœŸã«é¢ç™½ã„ã‚‚ã®ã‚’æ›´æ–°ã—ã¾ã™ï¼","socials":{"github":"https://github.com/RaphaelNY","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-fffffff.svg","link":"https://live.bilibili.com/25369205"}}}},"mapped":true,"hidden":false,"prev_post":{},"next_post":{"title":"tauriä¸ªäººå…¥é—¨å»ºè®®","uid":"3b9e33d00820bf2a8cfa74fde48d213b","slug":"tauri-start-tutorial","date":"2024-04-27T12:25:49.000Z","updated":"2024-05-03T09:00:31.233Z","comments":true,"path":"api/articles/tauri-start-tutorial.json","keywords":null,"cover":"/img/tauri-start-tutorial-cover.png","text":"ä¸€ä¸ªç®€å•çš„å…¥é—¨tauriï¼Œæ•™ä½ å¦‚ä½•æœ€å¿«ä¸Šæ‰‹tauri+rust && ä¸€äº›æ³¨æ„äº‹é¡¹...","permalink":"/post/tauri-start-tutorial","photos":[],"count_time":{"symbolsCount":"1.9k","symbolsTime":"2 mins."},"categories":[{"name":"Rust","slug":"Rust","count":3,"path":"api/categories/Rust.json"},{"name":"tauri","slug":"Rust/tauri","count":2,"path":"api/categories/Rust/tauri.json"}],"tags":[{"name":"rust","slug":"rust","count":3,"path":"api/tags/rust.json"},{"name":"tauri","slug":"tauri","count":2,"path":"api/tags/tauri.json"}],"author":{"name":"RaphaelNY","slug":"blog-author","avatar":"img/avatar.png","link":"/","description":"å¥½ããªã‚ˆã†ã«ã€è‡ªåˆ†ã®é¡˜ã„ã«å¾“ã£ã¦æ´»å‹•ã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ã€‚<br>ä¸å®šæœŸã«é¢ç™½ã„ã‚‚ã®ã‚’æ›´æ–°ã—ã¾ã™ï¼","socials":{"github":"https://github.com/RaphaelNY","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-fffffff.svg","link":"https://live.bilibili.com/25369205"}}}},"feature":true}}